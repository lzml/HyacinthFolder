<html>

<head>
    <script src="vue.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="style.css">
    <script>
        function getDirList()
        {
            var ele = document.getElementById('dir_input');
            eMsg('dirlist  ');
            
            alert(ele.value) ;
        }
    </script>
</head>

<body style="background: #00ffffff;">
    <!--可见部分的窗口-->
    <div style="height: 400; width: 600;  position: relative; background: #ff5533;"
    id="app" @mousedown="move" >
    {{positionX}}
    {{positionY}}

        <div id="caption" style="height:50;width: auto; background: cornflowerblue;">
            <input id="dir_input" style="width: 400;">
            <button onClick="getDirList()">载入路径</button>
            <button onClick="eMsg('close')">关闭窗口</button>
        </div>
        <!--左侧栏-->
        <div style="height: 200; width: 100; background: darkcyan;">

        </div>
        <div >

        </div>
    </div>
    <script type="text/javascript">
        let app = new Vue({
            el: '#app',
            data: {
                positionX: 0,
                positionY: 0,
            },
            methods: {
                move(e) {
                    let odiv = e.target;        //获取目标元素

                    //算出鼠标相对元素的位置
                    let disX = e.clientX - odiv.offsetLeft;
                    let disY = e.clientY - odiv.offsetTop;
                    document.onmousemove = (e) => {       //鼠标按下并移动的事件
                        //用鼠标的位置减去鼠标相对元素的位置，得到元素的位置
                        let left = e.clientX - disX;
                        let top = e.clientY - disY;

                        //绑定元素位置到positionX和positionY上面
                        this.positionX = top;
                        this.positionY = left;

                        //移动当前元素
                        odiv.style.left = left + 'px';
                        odiv.style.top = top + 'px';
                    };
                    document.onmouseup = (e) => {
                        document.onmousemove = null;
                        document.onmouseup = null;
                    };
                }

            },
            computed: {},
        });
    </script>
</body>

</html>